<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="logo.png" type="image/x-icon" />
    <!-- meta title -->
    <meta name="title" content="NotaryHash" />
    <!-- meta description -->
    <meta
      name="description"
      content="Welcome to our Notary Hash, your gateway to harnessing the full
        potential of blockchain technology. Our app offers a comprehensive suite
        of tools designed to interact seamlessly with the blockchain. Experience
        the power of hashing, encryption, digital signing, and publishing of
        data, along with robust verification capabilities for future reference.
        Our services are pivotal across a broad spectrum of applications,
        including legal notarization, data timestamping for file integrity, and
        precision agriculture. We also cater to specialized needs in supply
        chain management, evidence control, pharmaceutical research, and
        ensuring the safety in the cannabis industry. Step into the future of
        secure, transparent, and efficient data handling with our blockchain
        solution."
    />
    <!-- meta keywords -->
    <meta
      name="keywords"
      content="blockchain, notary, hash, notaryhash, bsv, bitcoin, bitcoin sv, bsv blockchain, blockchain notary, blockchain hash, blockchain notaryhash, notaryhash bsv, notaryhash bitcoin, notaryhash bitcoin sv, notaryhash bsv blockchain, notaryhash blockchain, notaryhash blockchain notary, notaryhash blockchain hash, notaryhash blockchain notaryhash, notaryhash notaryhash, notaryhash notary, notaryhash hash, notaryhash notaryhash bsv, notaryhash notaryhash bitcoin, notaryhash notaryhash bitcoin sv, notaryhash notaryhash bsv blockchain, notaryhash notaryhash blockchain, notaryhash notaryhash blockchain notary, notaryhash notaryhash blockchain hash, notaryhash notaryhash blockchain notaryhash, notaryhash notaryhash notaryhash, notaryhash notaryhash notary, notaryhash notaryhash hash, notaryhash notaryhash notaryhash bsv, notaryhash notaryhash notaryhash bitcoin, notaryhash notaryhash notaryhash bitcoin sv, notaryhash notaryhash notaryhash bsv blockchain, notaryhash notaryhash notaryhash blockchain, notaryhash notaryhash notaryhash blockchain notary, notaryhash notaryhash notaryhash blockchain hash, notaryhash notaryhash notaryhash blockchain notaryhash"
    />
    <!-- meta author -->
    <meta name="author" content="NotaryHash" />
    <!-- meta og:title -->
    <meta property="og:title" content="NotaryHash" />
    <!-- meta og:description -->
    <meta
      property="og:description"
      content="Welcome to our Notary Hash, your gateway to harnessing the full
        potential of blockchain technology. Our app offers a comprehensive suite
        of tools designed to interact seamlessly with the blockchain. Experience
        the power of hashing, encryption, digital signing, and publishing of
        data, along with robust verification capabilities for future reference.
        Our services are pivotal across a broad spectrum of applications,
        including legal notarization, data timestamping for file integrity, and
        precision agriculture. We also cater to specialized needs in supply
        chain management, evidence control, pharmaceutical research, and
        ensuring the safety in the cannabis industry. Step into the future of
        secure, transparent, and efficient data handling with our blockchain
        solution."
    />
    <!-- meta og:image -->
    <meta property="og:image" content="logo.png" />
    <!-- meta og:url -->
    <meta property="og:url" content="https://notaryhash.com" />
    <!-- meta twitter:title -->
    <meta property="twitter:title" content="NotaryHash" />
    <!-- meta twitter:description -->
    <meta
      property="twitter:description"
      content="Welcome to our Notary Hash, your gateway to harnessing the full
        potential of blockchain technology. Our app offers a comprehensive suite
        of tools designed to interact seamlessly with the blockchain. Experience
        the power of hashing, encryption, digital signing, and publishing of
        data, along with robust verification capabilities for future reference.
        Our services are pivotal across a broad spectrum of applications,
        including legal notarization, data timestamping for file integrity, and
        precision agriculture. We also cater to specialized needs in supply
        chain management, evidence control, pharmaceutical research, and
        ensuring the safety in the cannabis industry. Step into the future of
        secure, transparent, and efficient data handling with our blockchain
        solution."
    />
    <!-- meta twitter:image -->
    <meta property="twitter:image" content="logo.png" />
    <!-- meta twitter:card -->
    <meta property="twitter:card" content="summary_large_image" />
    <!-- meta twitter:creator -->
    <meta property="twitter:creator" content="@notaryhash" />
    <!-- meta twitter:site -->
    <meta property="twitter:site" content="@notaryhash" />
    <!-- meta twitter:domain -->
    <meta property="twitter:domain" content="notaryhash.com" />
    <!-- meta twitter:url -->
    <meta property="twitter:url" content="https://notaryhash.com" />
    <!-- meta twitter:label1 -->
    <meta property="twitter:label1" content="Written by" />
    <title>Transaction Explorer</title>
    <script src="https://unpkg.com/bsv@1.5"></script>
    <script src="https://cdn.jsdelivr.net/npm/bsv@1.5.0/bsv-message.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bsv@1.5.0/bsv-mnemonic.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bsv@1.5.0/bsv-ecies.min.js"></script>
    <!-- qr scanner -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.8/html5-qrcode.min.js"
      integrity="sha512-r6rDA7W6ZeQhvl8S7yRVQUKVHdexq+GAlNkNNqVC7YyIV+NwqCTJe2hDWCiffTyRNOeGEzRRJ9ifvRm/HCzGYg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <style>
      /* Existing styles */
      .scanner-controls {
        text-align: center;
      }
      .scanner-message {
        color: green;
        margin: 5px 0;
      }
      #scanner {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <h1>Transaction Explorer</h1>
      <p>
        <label for="txid">Transaction ID</label>
        <input type="text" id="txid" />
        <button id="load">Load</button>
      </p>
      <p id="txinfo"></p>
      <p id="opreturn"></p>
      <div class="scanner-controls">
        <button id="start-scan">Start Scan</button>
        <button id="stop-scan" disabled>Stop Scan</button>
        <p class="scanner-message" id="scanner-message"></p>
      </div>
      <div id="scanner"></div>
    </div>
    <script>
      function getTxInfo(txid) {
        return fetch("https://api.whatsonchain.com/v1/bsv/main/tx/hash/" + txid)
          .then((response) => response.json())
          .then((data) => {
            return data;
          });
      }
      //   display txinfo
      function displayTxInfo(txinfo) {
        document.getElementById("txinfo").innerHTML = JSON.stringify(
          txinfo,
          null,
          2
        );
      }
      //   check for op_return
      function checkOpReturn(txinfo) {
        if (txinfo.vout[0].scriptPubKey.type === "nulldata") {
          return true;
        } else {
          return false;
        }
      }
      //display op_return
      function displayOpReturn(txinfo) {
        document.getElementById("opreturn").innerHTML =
          txinfo.vout[0].scriptPubKey.asm;
      }
      let html5QrCode;
      function initQRScanner() {
        html5QrCode = new Html5Qrcode("scanner");
        document
          .getElementById("start-scan")
          .addEventListener("click", function () {
            scanQRCode();
            this.disabled = true;
            document.getElementById("stop-scan").disabled = false;
          });
        document
          .getElementById("stop-scan")
          .addEventListener("click", function () {
            if (html5QrCode) {
              html5QrCode
                .stop()
                .then(() => {
                  console.log("QR Scanning stopped.");
                  document.getElementById("scanner-message").innerText = "";
                })
                .catch((err) => {
                  console.error("Unable to stop scanning.", err);
                });
            }
            this.disabled = true;
            document.getElementById("start-san").disabled = false;
          });
      }

      function scanQRCode() {
        html5QrCode.start(
          { facingMode: "environment" },
          { fps: 10, qrbox: 250 },
          (qrCodeMessage) => {
            //if not includes https the return
            if (!qrCodeMessage.includes("https")) {
              document.getElementById("scanner-message").innerText =
                "Invalid QR Code. Continue Scanning.";
              return;
            }
            location.href = qrCodeMessage;
          },
          (errorMessage) => {
            console.error(errorMessage);
            document.getElementById("scanner-message").innerText =
              "Error scanning QR Code.";
          }
        );
      }

      window.onload = initQRScanner;
    </script>
  </body>
</html>
